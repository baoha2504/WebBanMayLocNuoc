@model PagedList.IPagedList<WebsiteLinhKienLocNuoc.Models.Product>
@using PagedList.Mvc;
@{
    var list2 = (List<WebsiteLinhKienLocNuoc.Models.Product>)ViewBag.lst2;
    var list1 = (List<WebsiteLinhKienLocNuoc.Models.Product>)ViewBag.lst1;
    var item1 = (WebsiteLinhKienLocNuoc.Models.Category)ViewBag.sp;
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout1.cshtml";
}
<body>
    <div id="wrapper" class="wrapper-full banners-effect-7">

        <div class="main-container container">
            <ul class="breadcrumb">
                <li><a href="/Home/Index"><i class="fa fa-home"></i></a></li>
                <li><a href="#">@item1.CategoriesName</a></li>
            </ul>

            <div class="row">
                <!--Left Part Start -->
                <aside class="col-sm-4 col-md-3" id="column-left">
                    <div class="module menu-category titleLine">
                        <h3 class="modtitle">Danh Mục Sản Phẩm</h3>
                        <div class="modcontent">
                            <div class="box-category">
                                <ul id="cat_accordion" class="list-group">
                                    <li class="hadchild">
                                        <a class="cutom-parent" href="/Categories/Categories?id=1">Máy Lọc Nước</a>   <span class="button-view  fa fa-plus-square-o"></span>
                                        <ul style="display: none;">
                                            <li><a href="/SubCategories/SubCategories?id=1">Máy Lọc Nước Kangaroo</a></li>
                                            <li><a href="/SubCategories/SubCategories?id=2">Máy Lọc Nước Karofi</a></li>
                                            <li><a href="/SubCategories/SubCategories?id=3">Máy Lọc Nước RO</a></li>
                                        </ul>
                                    </li>
                                    <li class="hadchild">
                                        <a class="cutom-parent" href="/Categories/Categories?id=2">Lõi Lọc Nước</a>   <span class="button-view  fa fa-plus-square-o"></span>
                                        <ul style="display: none;">
                                            <li><a href="/SubCategories/SubCategories?id=4">Lõi Lọc Nước Karofi</a></li>
                                            <li><a href="/SubCategories/SubCategories?id=5">Lõi Lọc Nước Kangaroo</a></li>
                                            <li><a href="/SubCategories/SubCategories?id=6">Lõi Lọc Nước CTO</a></li>
                                            <li><a href="/SubCategories/SubCategories?id=7">Lõi Lọc Nước RoTex</a></li>
                                            <li><a href="/SubCategories/SubCategories?id=8">Lõi Lọc Nước Khác</a></li>
                                        </ul>
                                    </li>
                                    <li class=""><a href="/Categories/Categories?id=3" class="cutom-parent">Cốc Lọc</a>  <span class="dcjq-icon"></span></li>
                                    <li class="hadchild">
                                        <a href="/Categories/Categories?id=4" class="cutom-parent">Màng Lọc Nước</a>    <span class="button-view  fa fa-plus-square-o"></span>
                                        <ul style="display: none;">
                                            <li><a href="/SubCategories/SubCategories?id=10">Màng Lọc Nước RO</a></li>
                                            <li><a href="/SubCategories/SubCategories?id=11">Màng Lọc Nước Rotex</a></li>
                                        </ul>
                                    </li>
                                    <li class=""><a href="/Categories/Categories?id=5" class="cutom-parent">Bình Áp</a>  <span class="dcjq-icon"></span></li>
                                    <li class="hadchild">
                                        <a href="/Categories/Categories?id=6" class="cutom-parent">Bơm &amp; Nguồn Điện</a>   <span class="button-view  fa fa-plus-square-o"></span>
                                        <ul style="display: none;">
                                            <li><a href="/SubCategories/SubCategories?id=13">Bơm</a></li>
                                            <li><a href="/SubCategories/SubCategories?id=14">Nguồn Điện</a></li>
                                        </ul>
                                    </li>
                                    <li class=""><a href="/Categories/Categories?id=7" class="cutom-parent">Van </a>  <span class="dcjq-icon"></span></li>
                                    <li class=""><a href="/Categories/Categories?id=8" class="cutom-parent">Sản Phẩm Khác</a>  <span class="dcjq-icon"></span></li>
                                </ul>
                            </div>


                        </div>
                    </div>
                    <div class="module latest-product titleLine">
                        <h3 class="modtitle">Sản Phẩm Bán Chạy Nhất</h3>
                        <div class="modcontent ">
                            @foreach (var item in list2)
                            {
                                <div class="product-latest-item">
                                    <div class="media">
                                        <div class="media-left">
                                            <a href="@Url.Action("DetailProduct", "Product", new { id = item.ProductID })">
                                                <img src="~/Public/image/demo/@item.Image" alt="Cisi Chicken"
                                                     title="Cisi Chicken" class="img-responsive"
                                                     style="width: 100px; height: 82px;">
                                            </a>
                                        </div>
                                        <div class="media-body">
                                            <div class="caption">
                                                <h4><a href="@Url.Action("DetailProduct","Product",new { id = item.ProductID })">@item.ProductName</a></h4>

                                                <div class="price">
                                                    @{int price = (int)@item.PriceNew; }
                                                    <span class="price-new">@price.ToString("N0")</span>
                                                </div>
                                                <div class="ratings">
                                                    <div class="rating-box">
                                                        <span class="fa fa-stack">
                                                            <i class="fa fa-star fa-stack-1x"></i><i class="fa fa-star-o fa-stack-1x"></i>
                                                        </span>
                                                        <span class="fa fa-stack">
                                                            <i class="fa fa-star fa-stack-1x"></i><i class="fa fa-star-o fa-stack-1x"></i>
                                                        </span>
                                                        <span class="fa fa-stack">
                                                            <i class="fa fa-star fa-stack-1x"></i><i class="fa fa-star-o fa-stack-1x"></i>
                                                        </span>
                                                        <span class="fa fa-stack">
                                                            <i class="fa fa-star fa-stack-1x"></i><i class="fa fa-star-o fa-stack-1x"></i>
                                                        </span>
                                                        <span class="fa fa-stack">
                                                            <i class="fa fa-star fa-stack-1x"></i><i class="fa fa-star-o fa-stack-1x"></i>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            }
                        </div>

                    </div>
                </aside>
                <!--Left Part End -->
                <!--Middle Part Start-->
                <div id="content" class="col-md-9 col-sm-8">
                    <div class="products-category">
                        <div class="category-derc">
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="banners">
                                        <div>
                                            <a href="#"><img src="~/Public/image/demo/col_banner_1.jpg" alt="Apple Cinema 30&quot;"><br></a>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <!-- Filters -->
                        <div class="product-filter filters-panel">
                            <div class="row">
                                <div class="col-md-2 visible-lg">
                                    <div class="view-mode">
                                        <div class="list-view">
                                            <button class="btn btn-default grid active" data-view="grid" data-toggle="tooltip" data-original-title="Grid"><i class="fa fa-th"></i></button>
                                            <button class="btn btn-default list" data-view="list" data-toggle="tooltip" data-original-title="List"><i class="fa fa-th-list"></i></button>
                                        </div>
                                    </div>
                                </div>
                                <div class="short-by-show form-inline text-right col-md-7 col-sm-8 col-xs-12">
                                    <div class="form-group short-by">
                                        <label class="control-label" for="input-sort">Sắp Xếp:</label>
                                        <select id="input-sort" class="form-control"
                                                onchange="location = this.value;">
                                            <option value="" selected="selected">Mặc định</option>
                                            <option value="">Theo Tên (A-Z)</option>
                                            <option value="">Theo Tên (Z - A)</option>
                                            <option value="">Giá (Cao &gt; Thấp)</option>
                                            <option value="">Giá (Thấp &gt; Cao)</option>
                                            <option value="">Rating (Cao Nhất)</option>
                                            <option value="">Rating (Thấp Nhất)</option>
                                            <option value="">Model (A - Z)</option>
                                            <option value="">Model (Z - A)</option>
                                        </select>
                                    </div>

                                </div>
                                <div class="box-pagination col-md-3 col-sm-4 col-xs-12 text-right">
                                    <ul class="pagination">


                                        <li>
                                            @{
                                                var firstPage = 1;
                                                if ((int)Model.PageNumber > 1)
                                                {
                                                    firstPage = (int)Model.PageNumber - 1;
                                                }

                                                var lastpage = Model.PageNumber;
                                                if (lastpage < Model.PageCount)
                                                {
                                                    lastpage = (int)Model.PageNumber + 1;
                                                }
                                                <a href="~/Categories/Categories/?id=@item1.CategoriesID&page=@firstPage" class="page-link text-secondary ">
                                                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                                                </a>
                                            }
                                        </li>
                                        @for (int i = Model.PageNumber; i <= Model.PageCount; i++)
                                        {

                                            if (i < Model.PageNumber + 5)
                                            {
                                                <li id="active_@i"><a href="~/Categories/Categories/?id=@item1.CategoriesID&page=@i" class="page-link text-secondary">@i  </a></li>
                                            }

                                        }
                                        <li>
                                            <a href="~/Categories/Categories/?id=@item1.CategoriesID&page=@lastpage" class="page-link text-secondary">
                                                <i class="fa fa-angle-right" aria-hidden="true"></i>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="~/Categories/Categories/?id=@item1.CategoriesID&page=@Model.PageCount" class="page-link text-secondary">
                                                <i class="fa fa-angle-double-right" aria-hidden="true"></i>
                                            </a>
                                        </li>

                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- //end Filters -->
                        <!--changed listings-->
                        <div class="products-list row grid">
                            @foreach (var item in Model)
                            {
                                <div class="product-layout col-md-4 col-sm-6 col-xs-12 ">
                                    <div class="product-item-container">
                                        <div class="left-block">
                                            <div class="product-image-container second_img ">
                                                <img src="~/Public/image/demo/@item.Image"
                                                     alt="@item.ProductName;" class="img-responsive" />
                                                <img src="~/Public/image/demo/@item.Image"
                                                     alt="@item.ProductName;"
                                                     class="img_0 img-responsive" />
                                            </div>
                                            <!--Sale Label-->
                                            <span class="label label-new">Sale</span>
                                            <!--full quick view block-->
                                            <a class="quickview iframe-link visible-lg"
                                               data-fancybox-type="iframe" href="@Url.Action("Quickview","Product",new { id = item.ProductID })">
                                                Xem Nhanh
                                            </a>
                                            <!--Sale Label-->

                                        </div>


                                        <div class="right-block">
                                            <div class="caption">
                                                <h4><a href="@Url.Action("DetailProduct","Product",new { id = item.ProductID })">@item.ProductName</a></h4>
                                                <h4><a href="@Url.Action("DetailProduct","Product",new { id = item.ProductID })"></a></h4>
                                                <div class="ratings">
                                                    <div class="rating-box">
                                                        <span class="fa fa-stack"><i class="fa fa-star fa-stack-1x"></i><i class="fa fa-star-o fa-stack-1x"></i></span>
                                                        <span class="fa fa-stack"><i class="fa fa-star fa-stack-1x"></i><i class="fa fa-star-o fa-stack-1x"></i></span>
                                                        <span class="fa fa-stack"><i class="fa fa-star fa-stack-1x"></i><i class="fa fa-star-o fa-stack-1x"></i></span>
                                                        <span class="fa fa-stack"><i class="fa fa-star fa-stack-1x"></i><i class="fa fa-star-o fa-stack-1x"></i></span>
                                                        <span class="fa fa-stack"><i class="fa fa-star-o fa-stack-1x"></i></span>
                                                    </div>
                                                </div>

                                                <div class="price">
                                                    @{int pricenew = (int)@item.PriceNew;

                                                    }
                                                    <span class="price-new">@pricenew.ToString("N0")</span>
                                                    <span class="price-old">@item.PriceOld</span>
                                                    <span class="label label-percent">-40%</span>
                                                </div>
                                                <div class="description item-desc hidden">
                                                    @item.Summary
                                                </div>
                                            </div>

                                            <div class="button-group">
                                                <button class="addToCart" type="button" data-toggle="tooltip" title="Add to Cart" onclick="cart.add('@item.ProductID', '1' ,'@item.ProductName','@item.Image');"><i class="fa fa-shopping-cart"></i> <span class="hidden-xs">Thêm Vào Giỏ Hảng</span></button>
                                            </div>
                                        </div><!-- right block -->

                                    </div>
                                </div>
                                <div class="clearfix visible-xs-block"></div>
                            }



                        </div><!--// End Changed listings-->
                        <!-- Filters -->
                        <div class="product-filter product-filter-bottom filters-panel">
                            <div class="row">
                                <div class="col-md-2 hidden-sm hidden-xs">
                                </div>
                                <div class="short-by-show text-center col-md-7 col-sm-8 col-xs-12">
                                    <div class="form-group" style="margin: 7px 10px">Showing 1 to @Model.Count()  of  @Model.PageSize (@Model.PageCount Pages)</div>
                                </div>
                                <div class="box-pagination col-md-3 col-sm-4 text-right">
                                    <ul class="pagination">


                                        <li>
                                            @{

                                                if ((int)Model.PageNumber > 1)
                                                {
                                                    firstPage = (int)Model.PageNumber - 1;
                                                }


                                                if (lastpage < Model.PageCount)
                                                {
                                                    lastpage = (int)Model.PageNumber + 1;
                                                }
                                                <a href="~/Categories/Categories/?id=@item1.CategoriesID&page=@firstPage" class="page-link text-secondary ">
                                                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                                                </a>
                                            }
                                        </li>
                                        @for (int i = Model.PageNumber; i <= Model.PageCount; i++)
                                        {

                                            if (i < Model.PageNumber + 5)
                                            {
                                                <li id="active_@i"><a href="~/Categories/Categories/?id=@item1.CategoriesID&page=@i" class="page-link text-secondary">@i  </a></li>
                                            }

                                        }
                                        <li>
                                            <a href="~/Categories/Categories/?id=@item1.CategoriesID&page=@lastpage" class="page-link text-secondary">
                                                <i class="fa fa-angle-right" aria-hidden="true"></i>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="~/Categories/Categories/?id=@item1.CategoriesID&page=@Model.PageCount" class="page-link text-secondary">
                                                <i class="fa fa-angle-double-right" aria-hidden="true"></i>
                                            </a>
                                        </li>

                                    </ul>
                                </div>

                            </div>
                        </div>
                        <!-- //end Filters -->

                    </div>

                </div>


            </div>
            <!--Middle Part End-->
        </div>
    </div>

</body>
